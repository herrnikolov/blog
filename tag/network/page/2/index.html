<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Network Archives - Page 2 of 2 - Stefcho's Tech Blog</title><meta property="og:locale" content="en_US"><meta property="og:type" content="object"><meta property="og:title" content="Network Archives - Page 2 of 2 - Stefcho's Tech Blog"><meta property="og:url" content="https://blog.stefcho.eu/tag/network/"><meta property="og:site_name" content="Stefcho's Tech Blog"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//s.w.org"><script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.4.2';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-11255880-2';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-11255880-2', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('require', 'linkid', 'linkid.js');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script><link rel="stylesheet" id="wp-block-library-css" href="https://blog.stefcho.eu/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all"><link rel="stylesheet" id="micro-style-css" href="https://blog.stefcho.eu/wp-content/themes/micro/assets/css/master.css" type="text/css" media="all"><link rel="stylesheet" id="primary-font-css" href="https://fonts.googleapis.com/css?family=Roboto+Mono%3A400%2C500&subset=latin%2Ccyrillic%2Cgreek%2Cvietnamese&ver=5.1.1" type="text/css" media="all"><link rel="stylesheet" id="wpgdprc.css-css" href="https://blog.stefcho.eu/wp-content/plugins/wp-gdpr-compliance/assets/css/front.css" type="text/css" media="all"><style id="wpgdprc.css-inline-css" type="text/css">

            div.wpgdprc .wpgdprc-switch .wpgdprc-switch-inner:before { content: 'Yes'; }
            div.wpgdprc .wpgdprc-switch .wpgdprc-switch-inner:after { content: 'No'; }
        
</style><script type="text/javascript">
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"[]","home_url":"https:\/\/PLACEHOLDER.wpsho","hash_tracking":"false"};
/* ]]> */
</script><script type="text/javascript" src="https://blog.stefcho.eu/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js"></script><script type="text/javascript" src="https://blog.stefcho.eu/wp-includes/js/jquery/jquery.js"></script><script type="text/javascript" src="https://blog.stefcho.eu/wp-includes/js/jquery/jquery-migrate.min.js"></script><style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style><style type="text/css">
		/* Normal background color and text */
		body, code, kbd, tt, var, pre, input, textarea, select {
			color:#00aa13;
			background-color:#060c08;
		}

		/* Inverted background color and text */
		a:hover,
		.entry .entry-title,
		.comment-form-comment label,
		.form-submit input[type="submit"],
		.widget_calendar caption,
		.comments-area .comments-title,
		.main-navigation.is-extended .sub-menu a:hover,
		.menu-toggle {
			color:#060c08;
			background-color:#00aa13;
		}

		/* Overwrite for links */
		a,
		.main-navigation .menu-item a,
		.main-navigation .sub-menu a:hover,
		button, input  {
			color:#00aa13;
		}

		/* Borders */
		input, button, textarea, select
		.site-footer,
		.homepage-welcome {
			border-color:#00aa13;
		}

		.entry .entry-title a,
		.entry .entry-title a:hover {
			color: #060c08;
		}
	</style><link rel="icon" href="https://blog.stefcho.eu/wp-content/uploads/2018/10/cropped-0-32x32.jpg" sizes="32x32"><link rel="icon" href="https://blog.stefcho.eu/wp-content/uploads/2018/10/cropped-0-192x192.jpg" sizes="192x192"><link rel="apple-touch-icon-precomposed" href="https://blog.stefcho.eu/wp-content/uploads/2018/10/cropped-0-180x180.jpg"><meta name="msapplication-TileImage" content="https://blog.stefcho.eu/wp-content/uploads/2018/10/cropped-0-270x270.jpg"><style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(3,122,221,.88);}</style><style type="text/css" id="wp-custom-css">
			  .entry .entry-content {
    margin: 50px 0; }		</style></head><body class="archive paged tag tag-network tag-65 paged-2 tag-paged-2 hfeed">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header"><div class="header-image">
			<a href="https://blog.stefcho.eu/" rel="home">
				<img src="/wp-content/uploads/2018/10/0.jpg" height="350" width="1400" alt=""></a>
		</div>
		
		<div class="row">
			<div class="columns small-12">
				<div class="site-branding">
											<p class="site-title"><a href="https://blog.stefcho.eu/" rel="home">Stefcho's Tech Blog</a></p>
											<p class="site-description">Software Development, Cloud, DevOps and PfSense</p>
									</div>

				<nav id="site-navigation" class="main-navigation"><button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
						<span class="screen-reader-text">Menu</span>
					</button>
					<div class="menu-primary-container">
						<div id="primary-menu" class="menu"></div>
					</div>
				</nav></div>
		</div>
	</header><div id="content" class="site-content">

	<section class="section-fullwidth section-main"><div class="row">
			<div class="columns small-12 medium-8">
				<div id="primary" class="content-area">
					<main id="main" class="site-main"><header class="page-header"><h1 class="page-title">Tag: Network</h1>						</header><article id="post-658" class="entry post-658 post type-post status-publish format-standard hentry category-technical tag-network tag-openvpn tag-pfsense tag-pki tag-site-to-site tag-technical"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/packt-publishing-openvpn-2-cookbook-review/" rel="bookmark">Packt Publishing OpenVPN 2 Cookbook Review</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-05-22T14:02:20+02:00">22/05/2011</time> - <time class="updated" datetime="2018-10-28T22:16:52+02:00">28/10/2018</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<h1 style="text-align: center;"><a title="Packt Publishing OpenVPN 2 Cookbook" href="http://www.packtpub.com/openvpn-2-cookbook/book" target="_blank">OpenVPN 2 Cookbook</a></h1>
<p style="text-align: center;">100 simple and incredibly effective recipes for harnessing the power of the OpenVPN 2 network<br>
By Jan Just Keijser</p>
<p style="text-align: center;"><a title="OpenVPN 2 Cookbook" href="http://www.packtpub.com/openvpn-2-cookbook/book" target="_blank"><img class="aligncenter size-full wp-image-660" title="0103OS_OpenVPN 2 Cookbook_FrontCover" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/0103OS_OpenVPN-2-Cookbook_FrontCover.jpg" alt="OpenVPN 2 Cookbook" width="494" height="617" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/0103OS_OpenVPN-2-Cookbook_FrontCover.jpg 494w,https://blog.stefcho.eu/wp-content/uploads/2011/05/0103OS_OpenVPN-2-Cookbook_FrontCover-240x300.jpg 240w" sizes="(max-width: 494px) 100vw, 494px"></a></p>
<p><strong>Introduction</strong></p>
<p>I was approached by <a title="www.PacktPub.com" href="http://www.PacktPub.com" target="_blank">Packt Publishing</a> representative, asking if I would be willing to make a review of this book. This was interesting because at that moment I was reading <a title="pfSense 2 Cookbook" href="http://www.packtpub.com/pfsense-2-cookbook/book" target="_blank">pfSense 2.0 Cookbook</a> from the same publishing company. I was generously provided with the book, and here we are a month later.</p>
<p>The OpenVPN 2 Cookbook main subject is the use of OpenVPN in different scenarios. Its aim is to help you along the way of implementing an OpenVPN solution. For more detail description take a look at the <a href="http://www.packtpub.com/openvpn-2-cookbook/book#in_detail" target="_blank">detailed description Here</a>.</p>
<p>My experience with OpenVPN is based on three years of different deployments. You can find more details at the bottom of this post.</p>
<p><strong>What’s the book about?</strong></p>
<p>The book is an in depth examination of OpenVPN and how to use is in your every work. If you are in a hurry you can find a quick fix in the huge amount of recipes, or read it from cover to cover and get extensive knowledge of OpenVPN, its capabilities and different usage scenarios.</p>
<p>The book states that prior knowledge and experience of system administration, TCP/IP is required, also in OpenVPN installation. The examples in the book are made mostly on Linux based systems, so prior knowledge in the field is required too.  If you are fresh to field, probably first step is to take a look at <strong><a title="Learning Openvpn 2.0.9" href="https://www.packtpub.com/learning-openvpn-2-0-9/book" target="_blank">Beginning OpenVPN 2.0.9</a></strong> and then continue with this book.</p>
<p>As the cover states: Quick answers to common problems.</p>
<p>The book is structured in twelve chapters, and each chapter consists of about eight to ten sub topics that are called recipes. These recipes are like short How Tos for a particular case. The valuable thing is that throughout the chapter the recipes build on each other, starting from very basic configuration to more advanced ones. To get an impression you can take a look at the <strong><a title="Openvpn 2 Cookbook Table of Contents" href="http://www.packtpub.com/toc/openvpn-2-cookbook-table-contents" target="_blank">Table of Contents</a>.</strong></p>
<p>Every recipe has a <strong>How it works</strong> sections. They are extremely useful to understand what and how is happening behind the scenes. And that’s not all, after this section additional value is provided in the <strong>There’s more</strong> sections, where additional explanations and further developments are delivered.</p>
<p><strong>Does it achieve its promises?</strong></p>
<p>The first topic that really gets me going was <strong>3-way routing</strong> in the first chapter. I was planning to implement this for small number of fixed endpoints which are less than four. For more you have to read further in the book.</p>
<p>The next this that surprise me pleasantly was the PKI, Certificates and OpenSSL chapter. It helped me better understand OpenSSL and give me better idea how to manage certificates. This topic continues in the next chapters about Two-factor Authentication. I was very surprised to see that even hardware tokens can be used to authenticate users.</p>
<p>In The Scripting and Plugins, there is a very important secret about scripts execution, which was not known to me, and definitely will help me in future.</p>
<p>The Troubleshooting sections can save you precious blood, sweat and tears especially with problems related to Routing. Those are the two chapters I appreciate the most because they provide you with analytical way to diagnose and eliminate problems in deployments. You can have a peek in the sample chapter here: <a title="OpenVPN 2 Cookbook Sample Chapter" href="http://www.packtpub.com/sites/default/files/0103chapter7Samplechapter.pdf?utm_source=packtpub&utm_medium=free&utm_campaign=pdf" target="_blank"><strong>Troubleshooting OpenVPN: Configurations</strong></a></p>
<p>Logically after you have fixed all the problems a Performance Tuning is your next step.</p>
<p>The following two chapters are related to OS integrations and advanced configuration. They help me better understand how to better integrate OpenVPN with the unique environment of the client.</p>
<p>The last chapter is all about the new features in 2.2 version of OpenVPN. It is quite useful to have a well arranged section with new features that you might have not known existed up until now.</p>
<p><strong>Conclusion</strong></p>
<p>I really like reading this book, and the systematic knowledge that it provides. Whether you are a full time System Administrator or just a part time occupied with the IT in your company, or just wants to establish a secure connection to your home this book will definitely give you the needed advices how to get there.</p>
<p><strong>Biography</strong></p>
<p>My experience with OpenVPN is based on three years’ of deployments.  My first deployment was on OpenWRT where I had to use predominantly command line to configure it and Secure copy (SCP) for certificate transfer, then on DD-WRT where most of the work is done through the Web GUI, with exemption for more advanced configuration that have to be placed in start-up scripts. After that on I used Windows based systems as clients and servers, and lately as you can see from my blog I’m working with pfSense.</p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/openvpn/" rel="tag">OpenVPN</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/pki/" rel="tag">PKI</a>, <a href="https://blog.stefcho.eu/tag/site-to-site/" rel="tag">Site To Site</a>, <a href="https://blog.stefcho.eu/tag/technical/" rel="tag">Technical</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/packt-publishing-openvpn-2-cookbook-review/#comments">1 Comment</a></span>	</footer></article><article id="post-611" class="entry post-611 post type-post status-publish format-standard hentry category-technical tag-network tag-openvpn tag-pfsense tag-pki tag-site-to-site"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/building-site-to-site-connection-with-openvpn-on-pfsense-2-0-rc1-with-pki/" rel="bookmark">Building Site to Site Connection with OpenVPN on pfSense 2.0 RC1 with PKI</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-05-11T22:16:54+02:00">11/05/2011</time> - <time class="updated" datetime="2019-02-18T14:48:43+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>In the last post we’ve setup a Site To Site with Shared Key, now instead we will use internal Certificate Authority. Honestly speaking if I did not follow this guide, there was no routing between the two sites.<br><a href="http://doc.pfsense.org/index.php/OpenVPN_Site-to-Site_PKI_%28SSL%29" target="_blank">OpenVPN Site-to-Site PKI (SSL)</a></p>
<p>For reference here is the network diagram:</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.01.png"><img class="aligncenter size-full wp-image-612" title="OpenVPN Site to Site on pfSense 2.0" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.01.png" alt="" width="746" height="139" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.01.png 746w,https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.01-300x55.png 300w" sizes="(max-width: 746px) 100vw, 746px"></a></p>
<p>pfsense01 will be out OpenVPN server, and pfsense02 will be our OpenVPN client. Client and Server are just host on the two LANs behind routers.</p>
<p>On pfsense01 go to System > Cert Manager, On CAs leaf create new Certificate Authority.</p>
<p>Enter Descriptive Name, choose as a method Create an internal Certificate Authority, leave Key length and Lifetime to defaults.</p>
<p>Fill in the rest of the fields.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-01-Create-CA-.png"><img class="aligncenter size-full wp-image-614" title="pfsense01 - 01 Create CA" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-01-Create-CA-.png" alt="" width="910" height="632" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-01-Create-CA-.png 910w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-01-Create-CA--300x208.png 300w" sizes="(max-width: 910px) 100vw, 910px"></a></p>
<p>Then go to Certificates leaf, add new and create the server certificate.</p>
<p>Enter descriptive name, I’ve used the router host name, as a method choose Create an internal Certificate.</p>
<p>Verify that for Certificate authority the CA that we have created in the previous step is selected. Leave the rest of the fields to default, with exception of Common Name, here enter the host name of the server, in my case it was pfsense01.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-02-Create-Server-Cert-.png"><img class="aligncenter size-full wp-image-615" title="pfsense01 - 02 Create Server Cert" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-02-Create-Server-Cert-.png" alt="" width="904" height="653" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-02-Create-Server-Cert-.png 904w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-02-Create-Server-Cert--300x216.png 300w" sizes="(max-width: 904px) 100vw, 904px"></a></p>
<p>Now go to System > User manager, create new user. For the sake of simplicity for username I’ve used the host name of the second router, pfsense02. Enter Password, for Full name I’ve used again the router name. Then tick the Click to create a user certificate.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-03-Add-user-.png"><img class="aligncenter size-full wp-image-616" title="pfsense01 - 03 Add user" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-03-Add-user-.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-03-Add-user-.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-03-Add-user--300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>For descriptive name use the host name of the router, this is the Common Name of the certificate and it is important to match.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04-Add-user-.png"><img class="aligncenter size-full wp-image-617" title="pfsense01 - 04 Add user" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04-Add-user-.png" alt="" width="921" height="607" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04-Add-user-.png 921w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04-Add-user--300x197.png 300w" sizes="(max-width: 921px) 100vw, 921px"></a></p>
<p>Instead of creating new user, you can create new Certificate directly.</p>
<p>Go to Cert Manager, on the Certificate leaf add new. Again as Descriptive name and Common Name use the host name of the second router, in my case pfsense02.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04.1-Add-user-.png"><img class="aligncenter size-full wp-image-630" title="pfsense01 - 04.1 Add user" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04.1-Add-user-.png" alt="" width="922" height="663" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04.1-Add-user-.png 922w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-04.1-Add-user--300x215.png 300w" sizes="(max-width: 922px) 100vw, 922px"></a></p>
<p>Go to VPN > OpenVPN on the Server leaf, add new.</p>
<p>As Server Mode select Peer to Peer (SSL/TLS). As protocol UDP, Device Mode is TUN, Interface is WAN, leave the port to default 1194. Enter Description, Tick Enable authentication of TLS packets and Automatic generation a shared TLS authentication key.</p>
<p>As Peer Certificate Authority select the CA that we have created in the beginning. I did not have a Peer Certification Revocation List so leave it to None. Select the Server Certificate that we have created. For DH Parameters Length you can leave it to the default 1024 bits. Choose Encryption algorithm in my case BF-CBC (128-bit), take note of the algorithm we have to use the same on the client too.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-05-Setup-OpenVPN-Server-.png"><img class="aligncenter size-full wp-image-618" title="pfsense01 - 05 Setup OpenVPN Server" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-05-Setup-OpenVPN-Server-.png" alt="" width="1024" height="742" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-05-Setup-OpenVPN-Server-.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-05-Setup-OpenVPN-Server--300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>As Tunnel Network choose one different from your LANs, in my case the default 10.0.8.0/24. Enter the Local Network, in my case 10.10.9.0/24. Enter the Remote Network in my case 10.10.10.0/24. Leave the rest to defaults.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-06-Setup-OpenVPN-Server-.png"><img class="aligncenter size-full wp-image-619" title="pfsense01 - 06 Setup OpenVPN Server" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-06-Setup-OpenVPN-Server-.png" alt="" width="1024" height="742" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-06-Setup-OpenVPN-Server-.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-06-Setup-OpenVPN-Server--300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Go to VPN > OpenVPN in Client Specific Overrides, and add new entry for the client.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-11-Configure-Client-Specific-Override.png"><img class="aligncenter size-full wp-image-620" title="pfsense01 - 11 Configure Client Specific Override" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-11-Configure-Client-Specific-Override.png" alt="" width="916" height="320" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-11-Configure-Client-Specific-Override.png 916w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-11-Configure-Client-Specific-Override-300x104.png 300w" sizes="(max-width: 916px) 100vw, 916px"></a></p>
<p>For Common name enter the host name of the second router that we have used as common name in the certificate, in my case pfsense02. Enter some description, and the Tunnel Network, in my case 10.0.8.0/24. Leave the rest to default.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-12-Configure-Client-Specific-Override.png"><img class="aligncenter size-full wp-image-621" title="pfsense01 - 12 Configure Client Specific Override" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-12-Configure-Client-Specific-Override.png" alt="" width="1024" height="742" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-12-Configure-Client-Specific-Override.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-12-Configure-Client-Specific-Override-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>In the Advanced form, enter</p>
<blockquote><p>iroute 10.10.10.0 255.255.255.0</p></blockquote>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-13-Configure-Client-Specific-Override.png"><img class="aligncenter size-full wp-image-622" title="pfsense01 - 13 Configure Client Specific Override" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-13-Configure-Client-Specific-Override.png" alt="" width="909" height="580" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-13-Configure-Client-Specific-Override.png 909w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-13-Configure-Client-Specific-Override-300x191.png 300w" sizes="(max-width: 909px) 100vw, 909px"></a>Without this step there will be no routing between the two LANs.</p>
<p>Got to Firewall >Rules and on the OpenVPN leaf, add new rule.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Add-Rule-to-Allow-Traffic.png"><img class="aligncenter size-full wp-image-623" title="pfsense01 - 08 Add Rule to Allow Traffic" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Add-Rule-to-Allow-Traffic.png" alt="" width="913" height="480" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Add-Rule-to-Allow-Traffic.png 913w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Add-Rule-to-Allow-Traffic-300x157.png 300w" sizes="(max-width: 913px) 100vw, 913px"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Allow-Traffic.png"></a></p>
<p>Here for testing purposes I’ve made allow all rule. Select any as Protocol, leave the rest to default and enter description.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Allow-Traffic.png"><img class="aligncenter size-full wp-image-624" title="pfsense01 - 09 Add Rule to Allow Traffic" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Allow-Traffic.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Allow-Traffic.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Allow-Traffic-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>For the client to be able to connect, let’s open the OpenVPN Server port.</p>
<p>In Firewall > Rules on the WAN leaf, add new rule. Select UDP as Protocol.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Open-VPN-Port-Port.png"><img class="aligncenter size-full wp-image-627" title="pfsense01 - 09 Add Rule to Open VPN Port Port" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Open-VPN-Port-Port.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Open-VPN-Port-Port.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-09-Add-Rule-to-Open-VPN-Port-Port-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>As Destination port Range in our case select OpenVPN.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-10-Add-Rule-to-Open-VPN-Port-Port.png"><img class="aligncenter size-full wp-image-625" title="pfsense01 - 10 Add Rule to Open VPN Port Port" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-10-Add-Rule-to-Open-VPN-Port-Port.png" alt="" width="912" height="625" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-10-Add-Rule-to-Open-VPN-Port-Port.png 912w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-10-Add-Rule-to-Open-VPN-Port-Port-300x205.png 300w" sizes="(max-width: 912px) 100vw, 912px"></a></p>
<p>Now it is time to export certificate for use on the second router.</p>
<p>Go back to System > Cert manager export public and private CA certs, click on the first downward pointing triangle. As a guide, when you hoover over it the text label is Export CA.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-07-Export-CA-Cert-.png"><img class="aligncenter size-full wp-image-628" title="pfsense01 - 07 Export CA Cert" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-07-Export-CA-Cert-.png" alt="" width="920" height="340" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-07-Export-CA-Cert-.png 920w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-07-Export-CA-Cert--300x110.png 300w" sizes="(max-width: 920px) 100vw, 920px"></a></p>
<p>Then go to User Manager, enter the configuration of our user pfsense02, in the User Certificates section click on both downward pointing triangles to download both cert and key.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Export-User-Cert.png"><img class="aligncenter size-full wp-image-629" title="pfsense01 - 08 Export User Cert" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Export-User-Cert.png" alt="" width="913" height="532" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Export-User-Cert.png 913w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense01-08-Export-User-Cert-300x174.png 300w" sizes="(max-width: 913px) 100vw, 913px"></a></p>
<p> </p>
<p>Now on pfSense02, go to System > Cert Manager on CAs leaf, add new one.</p>
<p>And as Method select Import an existing Certificate Authority. Enter as Descriptive name the name of the certificate from the first server, in my case pfsense01.</p>
<p>You have to have opened the certificate with notepad, or another text editor. Then simply copy / paste the content of the file.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-01.1-Import-CA-Cert.png"><img class="aligncenter size-full wp-image-633" title="pfsense02 - 01.1 Import CA Cert" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-01.1-Import-CA-Cert.png" alt="" width="921" height="692" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-01.1-Import-CA-Cert.png 921w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-01.1-Import-CA-Cert-300x225.png 300w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-01.1-Import-CA-Cert-200x150.png 200w" sizes="(max-width: 921px) 100vw, 921px"></a></p>
<p>Now on the Certificate leaf do the same but paste and the content of the  *.key in Private key data. Again enter Descriptive name as the one from the first router.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-02-Import-User-Cert.png"><img class="aligncenter size-full wp-image-632" title="pfsense02 - 02 Import User Cert" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-02-Import-User-Cert.png" alt="" width="910" height="635" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-02-Import-User-Cert.png 910w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-02-Import-User-Cert-300x209.png 300w" sizes="(max-width: 910px) 100vw, 910px"></a></p>
<p>Go to VPN > OpenVPN in Client leaf and add new</p>
<p>As Server Mode select Peer to Peer (SSL/TLS), Protocol is UDP, Device mode is TUN, and Interface is WAN. For Server host or address enter the WAN IP of pfsense01, in my case 10.10.2.2 and enter the port. Put some Description.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-03-Setup-OpenVPN-Client.png"><img class="aligncenter size-full wp-image-634" title="pfsense02 - 03 Setup OpenVPN Client" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-03-Setup-OpenVPN-Client.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-03-Setup-OpenVPN-Client.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-03-Setup-OpenVPN-Client-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Open the Server configuration (VPN > OpenVPN > Server leaf) on pfsense01, copy the TLS Authentication.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-04-Copy-PreShared-Key-From-pfsense01.png"><img class="aligncenter size-full wp-image-635" title="pfsense02 - 04 Copy PreShared Key From pfsense01" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-04-Copy-PreShared-Key-From-pfsense01.png" alt="" width="1024" height="740" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-04-Copy-PreShared-Key-From-pfsense01.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-04-Copy-PreShared-Key-From-pfsense01-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-05-Paste-PreShared-Key-From-pfsense01.png"></a></p>
<p>Paste it in the TLS Authentication form on our client configuration on pfsense02. Unpick Automatically generate a shared TLS authentication key and leave Enable authentication of TLS packets. <a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-05-Paste-PreShared-Key-From-pfsense01.png"><img class="aligncenter size-full wp-image-636" title="pfsense02 - 05 Paste PreShared Key From pfsense01" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-05-Paste-PreShared-Key-From-pfsense01.png" alt="" width="1024" height="743" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-05-Paste-PreShared-Key-From-pfsense01.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-05-Paste-PreShared-Key-From-pfsense01-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-06-Setup-OpenVPN-Client.png"></a></p>
<p>Use the same Tunnel Network as on the server, in my case 10.0.8.0/24. Enter Remote Network, this is the network behind pfsense01, for this case 10.10.9.0/24.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-06-Setup-OpenVPN-Client.png"><img class="aligncenter size-full wp-image-637" title="pfsense02 - 06 Setup OpenVPN Client" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-06-Setup-OpenVPN-Client.png" alt="" width="913" height="643" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-06-Setup-OpenVPN-Client.png 913w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-06-Setup-OpenVPN-Client-300x211.png 300w" sizes="(max-width: 913px) 100vw, 913px"></a></p>
<p>Add Allow All rule in Firewall > Rules on the OpenVPN leaf.</p>
<p>Now go to Status > OpenVPN and you should see that the connection is established.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Client.png"><img class="aligncenter size-full wp-image-638" title="pfsense02 - 07 Verify Connectivity on Client" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Client.png" alt="" width="1024" height="258" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Client.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Client-300x75.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Server.png"></a></p>
<p>From the Server prospective, again on Status > OpenVPN.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Server.png"><img class="aligncenter size-full wp-image-639" title="pfsense02 - 07 Verify Connectivity on Server" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Server.png" alt="" width="1024" height="257" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Server.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/pfsense02-07-Verify-Connectivity-on-Server-300x75.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Now you should be able to access hosts from the other network successfully.</p>
<p> </p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/openvpn/" rel="tag">OpenVPN</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/pki/" rel="tag">PKI</a>, <a href="https://blog.stefcho.eu/tag/site-to-site/" rel="tag">Site To Site</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/building-site-to-site-connection-with-openvpn-on-pfsense-2-0-rc1-with-pki/#comments">10 Comments</a></span>	</footer></article><article id="post-576" class="entry post-576 post type-post status-publish format-standard hentry category-technical tag-network tag-openvpn tag-pfsense tag-site-to-site"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/building-site-to-site-connection-with-openvpn-on-pfsense-2-0-rc1-with-shared-key/" rel="bookmark">Building Site to Site Connection with OpenVPN on pfSense 2.0 RC1 with Shared Key</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-05-02T02:28:11+02:00">02/05/2011</time> - <time class="updated" datetime="2019-02-18T14:48:26+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p> </p>
<p>Sooner or later you will have two or more geographically distant LAN that you want to connect together. Whether we are speaking about to branch offices or home and office, or simply your office LAN and some co located servers in a data center, it is only a matter of time before you need such solution.</p>
<p>In this case we will use two pfSense 2.0 RC1, one in each remote location.</p>
<p>The map shows our lab setup for the purpose.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.0.png"><img class="aligncenter size-full wp-image-577" title="OpenVPN Site to Site on pfSense 2.0" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.0.png" alt="" width="746" height="139" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.0.png 746w,https://blog.stefcho.eu/wp-content/uploads/2011/05/OpenVPN-Site-to-Site-on-pfSense-2.0-300x55.png 300w" sizes="(max-width: 746px) 100vw, 746px"></a></p>
<p>In this post we will use Shared Key as a way to authenticate the two routers.</p>
<p>On pfSense01, this machine will play the role of server in this scenario.</p>
<p>Go to VPN > OpenVPN, on the Server leaf, add new one<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-01-OpenVPN-Conifuration.png"><img class="aligncenter size-full wp-image-578" title="Configure pfsense01 as a Server - 01 - OpenVPN Conifuration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-01-OpenVPN-Conifuration.png" alt="" width="1024" height="369" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-01-OpenVPN-Conifuration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-01-OpenVPN-Conifuration-300x108.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>As Server Mode choose <strong>Peer to Peer (Shared key)</strong></p>
<p>Protocol, Device Mode, Interface, Local port – you can leaf the default for now.</p>
<p>Description – Enter whatever is informative for you.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-02-OpenVPN-Conifuration.png"><img class="aligncenter size-full wp-image-579" title="Configure pfsense01 as a Server - 02 - OpenVPN Conifuration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-02-OpenVPN-Conifuration.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-02-OpenVPN-Conifuration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-02-OpenVPN-Conifuration-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a>Encryption algorithm, choose one by your preference, keep in mind that different algorithms have different load on the server. I use BF-CBC (128-bit)</p>
<p> </p>
<p>Choose different from both of your LAN subnets for Tunnel Network, in our case 10.0.8.0/24.</p>
<p>Local Network – The LAN behind the pfSense01, in this example 10.10.9.0/24.</p>
<p>Remote Network – this is the LAN behind the pfSense02, as on the diagram 10.10.10.0/24.</p>
<p>Click on Save button and we are Done.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-03-OpenVPN-Conifuration.png"><img class="aligncenter size-full wp-image-580" title="Configure pfsense01 as a Server - 03 - OpenVPN Conifuration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-03-OpenVPN-Conifuration.png" alt="" width="1024" height="740" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-03-OpenVPN-Conifuration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-03-OpenVPN-Conifuration-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Open the newly configured server and copy the Shared Key. We will need it for the setup of pfSense02.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-04-OpenVPN-Conifuration.png"><img class="aligncenter size-full wp-image-581" title="Configure pfsense01 as a Server - 04 - OpenVPN Conifuration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-04-OpenVPN-Conifuration.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-04-OpenVPN-Conifuration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-04-OpenVPN-Conifuration-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Go to Firewall > Rules, on the WAN leaf, add new rule</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05-Network-Rules.png"><img class="aligncenter size-full wp-image-582" title="Configure pfsense01 as a Server - 05 - Network Rules" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05-Network-Rules.png" alt="" width="1024" height="221" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05-Network-Rules.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05-Network-Rules-300x64.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05.5-Network-Rules.png"><img class="aligncenter size-full wp-image-584" title="Configure pfsense01 as a Server - 05.5 - Network Rules" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05.5-Network-Rules.png" alt="" width="1024" height="367" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05.5-Network-Rules.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-05.5-Network-Rules-300x107.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a>The Action is Pass, Select WAN as Interface, UDP as Protocol.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-06-Network-Rules-WAN.png"><img class="aligncenter size-full wp-image-583" title="Configure pfsense01 as a Server - 06 - Network Rules - WAN" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-06-Network-Rules-WAN.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-06-Network-Rules-WAN.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-06-Network-Rules-WAN-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>For Destination port range, select OpenVPN in our case it is 1194, if you have used some other port in the configuration enter it here. Enter some description also. <a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-07-Network-Rules.png"><img class="aligncenter size-full wp-image-585" title="Configure pfsense01 as a Server - 07 - Network Rules" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-07-Network-Rules.png" alt="" width="1024" height="739" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-07-Network-Rules.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-07-Network-Rules-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Go to the OpenVPN leaf. Here I have made a very basic Allow All rule. If you have some security concerns, or want to limit the communication between the two sites, make one or more rules to fit your need.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-08-Network-Rules-OpenVPN.png"><img class="aligncenter size-full wp-image-586" title="Configure pfsense01 as a Server - 08 - Network Rules OpenVPN" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-08-Network-Rules-OpenVPN.png" alt="" width="1024" height="740" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-08-Network-Rules-OpenVPN.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-08-Network-Rules-OpenVPN-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-09-Network-Rules-OpenVPN.png"><img class="aligncenter size-full wp-image-587" title="Configure pfsense01 as a Server - 09 - Network Rules OpenVPN" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-09-Network-Rules-OpenVPN.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-09-Network-Rules-OpenVPN.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-09-Network-Rules-OpenVPN-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p> </p>
<p>pfSense02 will play the role of client.</p>
<p>Go to VPN > OpenVPN, on the Client leaf, add new one</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense01-as-a-Server-09-Network-Rules-OpenVPN1.png"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-01-OpenVPN-confiugration.png"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-01-OpenVPN-confiugration1.png"><img class="aligncenter size-full wp-image-590" title="Configure pfsense02 as a Client - 01 - OpenVPN confiugration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-01-OpenVPN-confiugration1.png" alt="" width="1024" height="379" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-01-OpenVPN-confiugration1.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-01-OpenVPN-confiugration1-300x111.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>As Server Mode choose <strong>Peer to Peer (Shared key)</strong></p>
<p>Protocol, match the one from the server in our case UDP, Device mode – tun, Interface is WAN, Local port, leave empty for random, or enter manually one if you want.</p>
<p>Server host or address, enter the WAN IP address on the first router pfSense01, in our case 10.10.2.2. Server port, whatever port you have used on the server, in our case the default 1194.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-02-OpenVPN-confiugration.png"><img class="aligncenter size-full wp-image-591" title="Configure pfsense02 as a Client - 02 - OpenVPN confiugration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-02-OpenVPN-confiugration.png" alt="" width="1024" height="741" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-02-OpenVPN-confiugration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-02-OpenVPN-confiugration-300x217.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Enter Description. For Shared Key, paste the one from the pfSense01 here. Encryption algorithm, duplicate the one from the first configuration, in our case BF-CBC (128-bit).</p>
<p>Tunnel Network, duplicate the one from the server. Remote Network is the LAN network behind the pfSense01, for our example 10.10.9.0/24.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-03-OpenVPN-confiugration.png"><img class="aligncenter size-full wp-image-592" title="Configure pfsense02 as a Client - 03 - OpenVPN confiugration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-03-OpenVPN-confiugration.png" alt="" width="1024" height="740" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-03-OpenVPN-confiugration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-03-OpenVPN-confiugration-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Leave the rest to default, and Save the configuration.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-04-OpenVPN-confiugration.png"><img class="aligncenter size-full wp-image-593" title="Configure pfsense02 as a Client - 04 - OpenVPN confiugration" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-04-OpenVPN-confiugration.png" alt="" width="1024" height="739" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-04-OpenVPN-confiugration.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-04-OpenVPN-confiugration-300x216.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Again add a rule on the OpenVPN leaf in the Firewall > Rules section to allow traffic flow between the two sites. Here again I’ve setup a rule that Allow All traffic between the two sites.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Rule.png"><img class="aligncenter size-full wp-image-596" title="Configure pfsense02 as a Client - 05 - OpenVPN Rule" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Rule.png" alt="" width="1024" height="456" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Rule.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Rule-300x133.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>Now go to Status > OpenVPN. You should see that Status equals UP.<a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Status.png"><img class="aligncenter size-full wp-image-594" title="Configure pfsense02 as a Client - 05 - OpenVPN Status" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Status.png" alt="" width="1024" height="418" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Status.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-05-OpenVPN-Status-300x122.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-06-OpenVPN-Status.png"><img class="aligncenter size-full wp-image-595" title="Configure pfsense02 as a Client - 06 - OpenVPN Status" src="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-06-OpenVPN-Status.png" alt="" width="1024" height="254" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-06-OpenVPN-Status.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/05/Configure-pfsense02-as-a-Client-06-OpenVPN-Status-300x74.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"></a>Now you should be able to successfully communicate with hosts from the other network.</p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/openvpn/" rel="tag">OpenVPN</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/site-to-site/" rel="tag">Site To Site</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/building-site-to-site-connection-with-openvpn-on-pfsense-2-0-rc1-with-shared-key/#comments">11 Comments</a></span>	</footer></article><article id="post-450" class="entry post-450 post type-post status-publish format-standard hentry category-technical tag-dd-wrt tag-network tag-vmware"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/running-dd-wrt-on-vmware-workstation-7-1/" rel="bookmark">Running DD-WRT on VMware Workstation 7.1</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-04-03T14:19:08+02:00">03/04/2011</time> - <time class="updated" datetime="2019-02-18T14:45:14+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>Now that’s a tricky one.  The only official build that could be found is <a href="ftp://www.dd-wrt.com/v24/X86/public/vmware/DDx86_pure.zip" target="_blank">here</a></p>
<p>But it was published in the middle of 2008.  It is a pure v24, no Service Packs, this by itself makes it useless.</p>
<p>Guide for installing newer version is not available.</p>
<p>After searching the forums, the only usable thread that I found is this: <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=9998" target="_blank">VMware ready to use ..</a></p>
<p>Here stalonge share a pre-installed virtual machine ready to use.</p>
<p>My recommendation is to Restore it to Factory Default, and configure it to your preference.</p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/dd-wrt/" rel="tag">DD-WRT</a>, <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/vmware/" rel="tag">VMWare</a></span>	</footer></article><article id="post-431" class="entry post-431 post type-post status-publish format-standard hentry category-technical tag-network tag-pfsense tag-vmware"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/install-pfsense-2-0-rc1-on-vmware-workstation-7/" rel="bookmark">Install pfSense 2.0 RC1 on VMWare Workstation 7</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-03-29T20:31:11+02:00">29/03/2011</time> - <time class="updated" datetime="2019-02-18T14:44:47+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>On this video you can see the step by step guide of how to install pfSense 2.0 RC1 on VM Ware Workstation 7.1.</p>
<p>Download the ISO file from <a href="http://blog.pfsense.org/?p=585" target="_blank">Here</a>.</p>
<p>Configure the Virtual Machine and mount the ISO file.</p>
<p>Go over the Setup, and configure the interfaces.</p>
<p>As option you can enable SSH access.</p>
<p>This is the first part of the <a href="http://stefcho.azurewebsites.net/?p=438">network laboratory</a> setup.</p>
<p>Have fun, and I hope you enjoy the video.</p>
<p><object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/JBFOcvhTlgA?hl=en&fs=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed type="application/x-shockwave-flash" width="425" height="344" src="http://www.youtube.com/v/JBFOcvhTlgA?hl=en&fs=1" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/vmware/" rel="tag">VMWare</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/install-pfsense-2-0-rc1-on-vmware-workstation-7/#comments">4 Comments</a></span>	</footer></article><article id="post-438" class="entry post-438 post type-post status-publish format-standard hentry category-technical tag-dd-wrt tag-network tag-openwrt tag-pfsense tag-vmware tag-vyatta"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/my-network-laboratory/" rel="bookmark">My Network Laboratory</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-03-29T19:24:44+02:00">29/03/2011</time> - <time class="updated" datetime="2019-02-18T14:44:21+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>  </p>
<p class="MsoNormal"><span lang="EN-GB">The easiest way to learn is by practice. This is especially true in IT. I have to lab out the migration from pfSense 1.2.3 to 2.0 RC1. Furthermore I have a site-to-site VPN setup that must be tested too. </span></p>
<p class="MsoNormal"><span lang="EN-GB">I decided to expand my laboratory setup to house not just the two versions of pfSense, but DD-WRT and OpenWrt also. This will give me a opportunity to expand my test with alternatives. That is not enough, so let’s add two of each as virtual machines. Now we need a router in the middle to move the traffic between different subnets. Using any of the above will be redundant, so after browsing the VMware market for router appliance, as first option came Untangle, but I have already played around with it, and it is not appropriate for my purposes. As reasonable alternative is Vyatta. I had no experience with this appliance, and decide to check it out. </span></p>
<p class="MsoNormal"><span lang="EN-GB">My finale network diagram looks like this:</span></p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup.png"></a><a href="https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup1.png"><img class="aligncenter size-large wp-image-447" title="Lab Setup" src="https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup1-1024x761.png" alt="" width="586" height="435" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup1-1024x761.png 1024w,https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup1-300x223.png 300w,https://blog.stefcho.eu/wp-content/uploads/2011/03/Lab-Setup1.png 1051w" sizes="(max-width: 586px) 100vw, 586px"></a><br><span lang="EN-GB">The Console and Client are a simple Windows XP workstation from which to manage all the routers remotely by SSH and Web Interface.<span> </span></span></p>
<p class="MsoNormal"><span lang="EN-GB"><span> </span>As you can imagine if all the routers WAN addresses were in one sub-net, the Vyatta would be unnecessary, but my decision was based on the need to be able to test load balancing, fail over, and other scenarios in future. </span></p>
<p class="MsoNormal"><span lang="EN-GB">In the following post I will discuss in details the configuration of each type of route. As a brief impression from the installation and configuration starting from the easiest to setup and going to the hardest ones.</span></p>
<p class="MsoNormal"><span lang="EN-GB">PfSense have a Live CD, and is a breeze to install and configure on x86 virtual machine. </span></p>
<p class="MsoNormal"><span lang="EN-GB">Then is the Vyatta, also available on Live CD that can be installed on virtual machine. For the configuration I have used the shell, only later to discover that there is a web interface that is somewhat helpful. </span></p>
<p class="MsoNormal"><span lang="EN-GB">DD-WRT is hard to get on x86 virtual machine. I have opt out to find ready-made virtual machine and only to restore it to default configuration, and then to configure it to my preferences.</span></p>
<p class="MsoNormal"><span lang="EN-GB">OpenWrt is even harder. On the forums the recommended way is to compile it for this architecture, and then install it. There is a wonderful tutorial <a href="http://www.youtube.com/watch?v=cL81DQk4WL8" target="_blank">here </a>how to set it up on virtual box, but it does not work on VMware workstation. My guess is if you reconfigure the hard disk portions it will work. But yet again, my decision was to use ready-made virtual machine with the latest version, and configure it to my likings.</span></p>
<p class="MsoNormal"> </p>
<p class="MsoNormal"><span lang="EN-GB"><br></span></p>
<div id="_mcePaste" class="mcePaste" style="position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow: hidden;">
<p>  </p>
<p class="MsoNormal"><span lang="EN-GB">The easiest way to learn is by practice. This is especially true in IT. So now I have to lab out the migration from pfSense 1.2.3 to 2.0 RC1. Furthermore I have a site-to-site VPN setup that must be tested too. </span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
<p class="MsoNormal"><span lang="EN-GB">I decided to expand my laboratory setup to house not just the two versions of pfSense, but DD-WRT and OpenWrt also. That is not enough, so let’s add two of each as virtual machines. Now we need a router in the middle to move the traffic between different subnets. Using any of the above will be redundant, so after browsing the VMware market for router appliance, as first option came Untangle, but I have already played around with it, and it is not appropriate for my purposes. As alternative to Untangle, Vyatta pop up from the result. I had no experience with this appliance, and decide to check it out. </span></p>
<p class="MsoNormal"><span lang="EN-GB">My finale network diagram is like this:</span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
<p class="MsoNormal"><span lang="EN-GB">The console and Client are a simple Windows XP workstation from which to manage all the routers remotely by SSH and Web Interface.<span> </span></span></p>
<p class="MsoNormal"><span lang="EN-GB"><span> </span>As you can imagine if all the routers WAN addresses were in one subnet, the Vyatta would be unnecessary, but my decision was based on the need to be able to test load balancing, failover, and other scenarios in future. </span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
<p class="MsoNormal"><span lang="EN-GB">In the following post I will discuss in details the configuration of each type of route. Now let’s go from the fore a brief impression from the installation and configuration starting from the easiest to setup and going to the hardest ones.</span></p>
<p class="MsoNormal"><span lang="EN-GB">PfSense have a live cd, and is a breeze to install and configure on x86 virtual machine. The only interesting this here is how to publish the web interface and the SSH on the WAN.</span></p>
<p class="MsoNormal"><span lang="EN-GB">Then is the Vyatta, also available on live cd that can be installed on virtual machine. For the configuration I have used the shell, only later to discover that there is a web interface that is somewhat helpful. </span></p>
<p class="MsoNormal"><span lang="EN-GB">DD-WRT is hard to get on x86 virtual machine. I have opt out to find ready-made virtual machine and only to restore it to default configuration, and then to configure it to my preferences.</span></p>
<p>  </p>
<p class="MsoNormal"><span lang="EN-GB">The easiest way to learn is by practice. This is especially true in IT. I have to lab out the migration from pfSense 1.2.3 to 2.0 RC1. Furthermore I have a site-to-site VPN setup that must be tested too. </span></p>
<p class="MsoNormal"><span lang="EN-GB">I decided to expand my laboratory setup to house not just the two versions of pfSense, but DD-WRT and OpenWrt also. This will give me a opportunity to expand my test with alternatives. That is not enough, so let’s add two of each as virtual machines. Now we need a router in the middle to move the traffic between different subnets. Using any of the above will be redundant, so after browsing the VMware market for router appliance, as first option came Untangle, but I have already played around with it, and it is not appropriate for my purposes. As reasonable alternative is Vyatta. I had no experience with this appliance, and decide to check it out. </span></p>
<p class="MsoNormal"><span lang="EN-GB">My finale network diagram looks like this:</span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
<p class="MsoNormal"><span lang="EN-GB">The Console and Client are a simple Windows XP workstation from which to manage all the routers remotely by SSH and Web Interface.<span> </span></span></p>
<p class="MsoNormal"><span lang="EN-GB"><span> </span>As you can imagine if all the routers WAN addresses were in one subnet, the Vyatta would be unnecessary, but my decision was based on the need to be able to test load balancing, failover, and other scenarios in future. </span></p>
<p class="MsoNormal"><span lang="EN-GB">In the following post I will discuss in details the configuration of each type of route. As a brief impression from the installation and configuration starting from the easiest to setup and going to the hardest ones.</span></p>
<p class="MsoNormal"><span lang="EN-GB">PfSense have a live cd, and is a breeze to install and configure on x86 virtual machine. </span></p>
<p class="MsoNormal"><span lang="EN-GB">Then is the Vyatta, also available on live cd that can be installed on virtual machine. For the configuration I have used the shell, only later to discover that there is a web interface that is somewhat helpful. </span></p>
<p class="MsoNormal"><span lang="EN-GB">DD-WRT is hard to get on x86 virtual machine. I have opt out to find ready-made virtual machine and only to restore it to default configuration, and then to configure it to my preferences.</span></p>
<p class="MsoNormal"><span lang="EN-GB">OpenWrt is even harder. On the forums the recommended way is to compile it for this architecture, and then install it. There is a wonderful tutorial here how to set it up on virtual box, but it does not work on VMware workstation. My guess is if you reconfigure the hard disk portions it will work. But yet again, my decision was to use ready-made virtual machine with the latest version, and configure it to my likings.</span></p>
<p class="MsoNormal"><span lang="EN-GB">OpenWrt is even harder. On the forums the recommended way is to compile it for this architecture, and then install it. There is a wonderful tutorial here how to set it up on virtual box, but it does not work on VMware workstation. My guess is if you reconfigure the hard disk portions it will work. But yet again, my decision was to use ready-made virtual machine with the latest version, and configure it to my likings.</span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
<p class="MsoNormal"><span lang="EN-GB"> </span></p>
</div>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/dd-wrt/" rel="tag">DD-WRT</a>, <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/openwrt/" rel="tag">OpenWrt</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/vmware/" rel="tag">VMWare</a>, <a href="https://blog.stefcho.eu/tag/vyatta/" rel="tag">Vyatta</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/my-network-laboratory/#comments">2 Comments</a></span>	</footer></article><article id="post-383" class="entry post-383 post type-post status-publish format-standard hentry category-technical tag-hyper-v tag-microsoft tag-network tag-pfsense tag-windows-server-2008-r2"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/pfsense-1-2-3-as-virtual-machine-on-windows-server-2008-r2-hyper-v/" rel="bookmark">pfSense 1.2.3 as Virtual Machine on Windows Server 2008 R2 Hyper-V</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2011-02-27T01:48:27+02:00">27/02/2011</time> - <time class="updated" datetime="2019-02-18T14:40:52+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>After seeing pfSense working more than half year flawlessly on Alix, recently I’ve test it as virtual machine.</p>
<p>To avoid some compatibility issues a “<a href="http://forum.pfsense.org/index.php/topic,19002.0.html" target="_blank">Legacy Network Adapters</a>” must be used.</p>
<p><a href="https://blog.stefcho.eu/wp-content/uploads/2011/02/pfsense_hyperv_NICs_type.png"><img class="aligncenter size-medium wp-image-391" title="pfsense_hyperv_NICs_type" src="https://blog.stefcho.eu/wp-content/uploads/2011/02/pfsense_hyperv_NICs_type-300x281.png" alt="" width="300" height="281" srcset="https://blog.stefcho.eu/wp-content/uploads/2011/02/pfsense_hyperv_NICs_type-300x281.png 300w,https://blog.stefcho.eu/wp-content/uploads/2011/02/pfsense_hyperv_NICs_type.png 736w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>For my surprise even with that trick, there was no network connectivity. The work around for this problem is explained in this thread: <a href="http://forum.pfsense.org/index.php/topic,30760.msg163707.html#msg163707" target="_blank">Pfsense 2.0-BETA4 in Hyper-V: Throughput not as expected</a></p>
<p>Open shell from the console, create new document</p>
<blockquote><p>vi /usr/local/etc/rc.d/startup.sh</p></blockquote>
<p>and type in</p>
<blockquote><p>ifconfig de1 down<br>
ifconfig de0 down<br>
ifconfig de0 up<br>
ifconfig de1 up</p></blockquote>
<p>Just check before that the names of your interfaces, mine were de0,1.</p>
<p>For now it is stable, no issues, with very basic configuration. On the forums there are topics about possible problems with VLANs, but I didn’t need this functionality.</p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/hyper-v/" rel="tag">Hyper-V</a>, <a href="https://blog.stefcho.eu/tag/microsoft/" rel="tag">Microsoft</a>, <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a>, <a href="https://blog.stefcho.eu/tag/pfsense/" rel="tag">pfSense</a>, <a href="https://blog.stefcho.eu/tag/windows-server-2008-r2/" rel="tag">Windows Server 2008 R2</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/pfsense-1-2-3-as-virtual-machine-on-windows-server-2008-r2-hyper-v/#comments">2 Comments</a></span>	</footer></article><article id="post-337" class="entry post-337 post type-post status-publish format-standard hentry category-technical tag-microsoft tag-network"><header class="entry-header"><h2 class="entry-title"><a href="https://blog.stefcho.eu/file-sharing-protocols-and-ports-in-xp-and-2003/" rel="bookmark">File Sharing Protocols and Ports in XP and 2003</a></h2>		<div class="entry-meta">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2010-07-24T10:46:05+02:00">24/07/2010</time> - <time class="updated" datetime="2019-02-18T14:37:35+02:00">18/02/2019</time></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://blog.stefcho.eu/author/darko/">Stefan</a></span></span>		</div>
			</header><div class="entry-content">
		<p>After digging around for open ports I have found TCP port 445 open on  one of my machines. For what this port is used? The answer was here:<br><a href="http://www.petri.co.il/what%27s_port_445_in_w2k_xp_2003.htm" target="_blank">What’s  TCP port 445 used for in Windows 2000/XP?</a></p>
<p>“Among the new ports used by Windows 2000,  Windows XP and Windows Server 2003, is TCP port 445 which is used for  SMB over TCP.<br>
The SMB (Server Message Block) protocol is used among  other things for file sharing in Windows NT/2000/XP. In Windows NT it  ran on top of NetBT (NetBIOS over TCP/IP), which used the famous ports  137, 138 (UDP) and 139 (TCP). In Windows 2000/XP/2003, Microsoft added  the possibility to run SMB directly over TCP/IP, without the extra layer  of NetBT. For this they use TCP port 445.<br>
”</p>
<p>Then  found this article:<br><a href="http://www.petri.co.il/disable_netbios_in_w2k_xp_2003.htm" target="_blank">How can  I configure TCP/IP networking while NetBIOS is disabled in Windows  2000/XP/2003?</a></p>
<p>Perfect! Petri IT Knowledgebase</p>
<p>If you  are interested in the topic references are very good source of  information.</p>
	</div>

	<footer class="entry-footer"><span class="cat-links">Posted in <a href="https://blog.stefcho.eu/category/technical/" rel="category tag">Technical</a></span><span class="tags-links">Tagged <a href="https://blog.stefcho.eu/tag/microsoft/" rel="tag">Microsoft</a>, <a href="https://blog.stefcho.eu/tag/network/" rel="tag">Network</a></span><span class="comments-link"><a href="https://blog.stefcho.eu/file-sharing-protocols-and-ports-in-xp-and-2003/#comments">3 Comments</a></span>	</footer></article><nav class="navigation posts-navigation" role="navigation"><h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-next"><a href="https://blog.stefcho.eu/tag/network/">Newer posts</a></div></div>
	</nav></main></div>
			</div>
			<div class="columns small-12 medium-4">
				
<aside id="secondary" class="widget-area" role="complementary"><section id="tag_cloud-3" class="widget widget_tag_cloud"><h2 class="widget-title">Tags</h2><div class="tagcloud"><a href="https://blog.stefcho.eu/tag/adds/" class="tag-cloud-link tag-link-73 tag-link-position-1" style="font-size: 10.082644628099pt;" aria-label="ADDS (2 items)">ADDS</a>
<a href="https://blog.stefcho.eu/tag/aes-ni/" class="tag-cloud-link tag-link-114 tag-link-position-2" style="font-size: 10.082644628099pt;" aria-label="AES-NI (2 items)">AES-NI</a>
<a href="https://blog.stefcho.eu/tag/asterisk/" class="tag-cloud-link tag-link-55 tag-link-position-3" style="font-size: 10.082644628099pt;" aria-label="Asterisk (2 items)">Asterisk</a>
<a href="https://blog.stefcho.eu/tag/asus/" class="tag-cloud-link tag-link-60 tag-link-position-4" style="font-size: 11.471074380165pt;" aria-label="ASUS (3 items)">ASUS</a>
<a href="https://blog.stefcho.eu/tag/azure/" class="tag-cloud-link tag-link-94 tag-link-position-5" style="font-size: 11.471074380165pt;" aria-label="Azure (3 items)">Azure</a>
<a href="https://blog.stefcho.eu/tag/captive-portal/" class="tag-cloud-link tag-link-83 tag-link-position-6" style="font-size: 11.471074380165pt;" aria-label="Captive Portal (3 items)">Captive Portal</a>
<a href="https://blog.stefcho.eu/tag/cell-phone/" class="tag-cloud-link tag-link-64 tag-link-position-7" style="font-size: 8pt;" aria-label="Cell Phone (1 item)">Cell Phone</a>
<a href="https://blog.stefcho.eu/tag/centos/" class="tag-cloud-link tag-link-86 tag-link-position-8" style="font-size: 8pt;" aria-label="CentOS (1 item)">CentOS</a>
<a href="https://blog.stefcho.eu/tag/creative/" class="tag-cloud-link tag-link-66 tag-link-position-9" style="font-size: 10.082644628099pt;" aria-label="Creative (2 items)">Creative</a>
<a href="https://blog.stefcho.eu/tag/dd-wrt/" class="tag-cloud-link tag-link-57 tag-link-position-10" style="font-size: 14.363636363636pt;" aria-label="DD-WRT (6 items)">DD-WRT</a>
<a href="https://blog.stefcho.eu/tag/dns/" class="tag-cloud-link tag-link-92 tag-link-position-11" style="font-size: 8pt;" aria-label="DNS (1 item)">DNS</a>
<a href="https://blog.stefcho.eu/tag/hyper-v/" class="tag-cloud-link tag-link-67 tag-link-position-12" style="font-size: 12.628099173554pt;" aria-label="Hyper-V (4 items)">Hyper-V</a>
<a href="https://blog.stefcho.eu/tag/ldap/" class="tag-cloud-link tag-link-74 tag-link-position-13" style="font-size: 10.082644628099pt;" aria-label="LDAP (2 items)">LDAP</a>
<a href="https://blog.stefcho.eu/tag/learning/" class="tag-cloud-link tag-link-102 tag-link-position-14" style="font-size: 10.082644628099pt;" aria-label="Learning (2 items)">Learning</a>
<a href="https://blog.stefcho.eu/tag/linksys/" class="tag-cloud-link tag-link-56 tag-link-position-15" style="font-size: 8pt;" aria-label="Linksys (1 item)">Linksys</a>
<a href="https://blog.stefcho.eu/tag/microsoft/" class="tag-cloud-link tag-link-63 tag-link-position-16" style="font-size: 11.471074380165pt;" aria-label="Microsoft (3 items)">Microsoft</a>
<a href="https://blog.stefcho.eu/tag/mikrotik-routerboard-rb250g/" class="tag-cloud-link tag-link-79 tag-link-position-17" style="font-size: 8pt;" aria-label="Mikrotik RouterBoard RB250G (1 item)">Mikrotik RouterBoard RB250G</a>
<a href="https://blog.stefcho.eu/tag/network/" class="tag-cloud-link tag-link-65 tag-link-position-18" style="font-size: 19.107438016529pt;" aria-label="Network (17 items)">Network</a>
<a href="https://blog.stefcho.eu/tag/openldap/" class="tag-cloud-link tag-link-87 tag-link-position-19" style="font-size: 8pt;" aria-label="OpenLDAP (1 item)">OpenLDAP</a>
<a href="https://blog.stefcho.eu/tag/openvpn/" class="tag-cloud-link tag-link-72 tag-link-position-20" style="font-size: 16.561983471074pt;" aria-label="OpenVPN (10 items)">OpenVPN</a>
<a href="https://blog.stefcho.eu/tag/openwrt/" class="tag-cloud-link tag-link-71 tag-link-position-21" style="font-size: 8pt;" aria-label="OpenWrt (1 item)">OpenWrt</a>
<a href="https://blog.stefcho.eu/tag/pfcenter/" class="tag-cloud-link tag-link-85 tag-link-position-22" style="font-size: 8pt;" aria-label="pfCenter (1 item)">pfCenter</a>
<a href="https://blog.stefcho.eu/tag/pfsemse/" class="tag-cloud-link tag-link-95 tag-link-position-23" style="font-size: 8pt;" aria-label="pfSemse (1 item)">pfSemse</a>
<a href="https://blog.stefcho.eu/tag/pfsense/" class="tag-cloud-link tag-link-61 tag-link-position-24" style="font-size: 22pt;" aria-label="pfSense (31 items)">pfSense</a>
<a href="https://blog.stefcho.eu/tag/pfsense-2-0-rc1/" class="tag-cloud-link tag-link-81 tag-link-position-25" style="font-size: 13.553719008264pt;" aria-label="pfSense 2.0 RC1 (5 items)">pfSense 2.0 RC1</a>
<a href="https://blog.stefcho.eu/tag/pfsense-2-0-rc3/" class="tag-cloud-link tag-link-84 tag-link-position-26" style="font-size: 14.363636363636pt;" aria-label="pfSense 2.0 RC3 (6 items)">pfSense 2.0 RC3</a>
<a href="https://blog.stefcho.eu/tag/pfsense-2-2/" class="tag-cloud-link tag-link-90 tag-link-position-27" style="font-size: 11.471074380165pt;" aria-label="pfSense 2.2 (3 items)">pfSense 2.2</a>
<a href="https://blog.stefcho.eu/tag/pfsense-2-4-3/" class="tag-cloud-link tag-link-98 tag-link-position-28" style="font-size: 8pt;" aria-label="pfSense 2.4.3 (1 item)">pfSense 2.4.3</a>
<a href="https://blog.stefcho.eu/tag/pki/" class="tag-cloud-link tag-link-77 tag-link-position-29" style="font-size: 10.082644628099pt;" aria-label="PKI (2 items)">PKI</a>
<a href="https://blog.stefcho.eu/tag/radius/" class="tag-cloud-link tag-link-75 tag-link-position-30" style="font-size: 10.082644628099pt;" aria-label="RADIUS (2 items)">RADIUS</a>
<a href="https://blog.stefcho.eu/tag/routing/" class="tag-cloud-link tag-link-80 tag-link-position-31" style="font-size: 8pt;" aria-label="Routing (1 item)">Routing</a>
<a href="https://blog.stefcho.eu/tag/site-to-site/" class="tag-cloud-link tag-link-76 tag-link-position-32" style="font-size: 11.471074380165pt;" aria-label="Site To Site (3 items)">Site To Site</a>
<a href="https://blog.stefcho.eu/tag/technical/" class="tag-cloud-link tag-link-97 tag-link-position-33" style="font-size: 14.942148760331pt;" aria-label="Technical (7 items)">Technical</a>
<a href="https://blog.stefcho.eu/tag/ubuntu/" class="tag-cloud-link tag-link-99 tag-link-position-34" style="font-size: 8pt;" aria-label="Ubuntu (1 item)">Ubuntu</a>
<a href="https://blog.stefcho.eu/tag/uncategorized/" class="tag-cloud-link tag-link-96 tag-link-position-35" style="font-size: 8pt;" aria-label="Uncategorized (1 item)">Uncategorized</a>
<a href="https://blog.stefcho.eu/tag/vlan/" class="tag-cloud-link tag-link-78 tag-link-position-36" style="font-size: 8pt;" aria-label="VLAN (1 item)">VLAN</a>
<a href="https://blog.stefcho.eu/tag/vmware/" class="tag-cloud-link tag-link-62 tag-link-position-37" style="font-size: 14.942148760331pt;" aria-label="VMWare (7 items)">VMWare</a>
<a href="https://blog.stefcho.eu/tag/voip/" class="tag-cloud-link tag-link-59 tag-link-position-38" style="font-size: 10.082644628099pt;" aria-label="VoIP (2 items)">VoIP</a>
<a href="https://blog.stefcho.eu/tag/vyatta/" class="tag-cloud-link tag-link-70 tag-link-position-39" style="font-size: 8pt;" aria-label="Vyatta (1 item)">Vyatta</a>
<a href="https://blog.stefcho.eu/tag/web-sites/" class="tag-cloud-link tag-link-93 tag-link-position-40" style="font-size: 8pt;" aria-label="Web Sites (1 item)">Web Sites</a>
<a href="https://blog.stefcho.eu/tag/windows-server-8/" class="tag-cloud-link tag-link-88 tag-link-position-41" style="font-size: 8pt;" aria-label="Windows Server 8 (1 item)">Windows Server 8</a>
<a href="https://blog.stefcho.eu/tag/windows-server-2008-r2/" class="tag-cloud-link tag-link-68 tag-link-position-42" style="font-size: 12.628099173554pt;" aria-label="Windows Server 2008 R2 (4 items)">Windows Server 2008 R2</a>
<a href="https://blog.stefcho.eu/tag/windows-server-2012-r2/" class="tag-cloud-link tag-link-91 tag-link-position-43" style="font-size: 8pt;" aria-label="Windows Server 2012 R2 (1 item)">Windows Server 2012 R2</a>
<a href="https://blog.stefcho.eu/tag/wireless/" class="tag-cloud-link tag-link-82 tag-link-position-44" style="font-size: 8pt;" aria-label="Wireless (1 item)">Wireless</a>
<a href="https://blog.stefcho.eu/tag/workstation-8/" class="tag-cloud-link tag-link-89 tag-link-position-45" style="font-size: 8pt;" aria-label="Workstation 8 (1 item)">Workstation 8</a></div>
</section><section id="archives-3" class="widget widget_archive"><h2 class="widget-title">Archives</h2>		<ul><li><a href="https://blog.stefcho.eu/2019/03/">March 2019</a></li>
	<li><a href="https://blog.stefcho.eu/2019/02/">February 2019</a></li>
	<li><a href="https://blog.stefcho.eu/2018/10/">October 2018</a></li>
	<li><a href="https://blog.stefcho.eu/2018/08/">August 2018</a></li>
	<li><a href="https://blog.stefcho.eu/2016/03/">March 2016</a></li>
	<li><a href="https://blog.stefcho.eu/2015/04/">April 2015</a></li>
	<li><a href="https://blog.stefcho.eu/2015/03/">March 2015</a></li>
	<li><a href="https://blog.stefcho.eu/2015/01/">January 2015</a></li>
	<li><a href="https://blog.stefcho.eu/2012/02/">February 2012</a></li>
	<li><a href="https://blog.stefcho.eu/2011/10/">October 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/09/">September 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/08/">August 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/07/">July 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/06/">June 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/05/">May 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/04/">April 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/03/">March 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2011/02/">February 2011</a></li>
	<li><a href="https://blog.stefcho.eu/2010/07/">July 2010</a></li>
		</ul></section><section id="custom_html-3" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-3838187216577892" data-ad-slot="5149186217"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></section></aside></div>
		</div>
	</section></div>

	<footer id="colophon" class="site-footer section-fullwidth"><div class="row">
			<div class="columns small-12">
				<div class="site-info">
					<a href="https://wordpress.org/">Proudly powered by WordPress</a>
					<span class="sep"> | </span>
					Theme: micro, developed by <a href="http://devrix.com">DevriX</a>.				</div>
			</div>
		</div>
	</footer></div>

<script type="text/javascript" src="https://blog.stefcho.eu/wp-content/themes/micro/assets/scripts/scripts.min.js"></script><script type="text/javascript">
/* <![CDATA[ */
var wpgdprcData = {"ajaxURL":"https:\/\/blog.stefcho.eu\/wp-admin\/admin-ajax.php","ajaxSecurity":"247c927df7","consentVersion":"1","consentStatus":"0","isMultisite":"","path":"\/","blogId":""};
/* ]]> */
</script><script type="text/javascript" src="https://blog.stefcho.eu/wp-content/plugins/wp-gdpr-compliance/assets/js/front.js"></script></body></html>
